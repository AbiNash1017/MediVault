{% extends 'layout.html' %}
{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
  <h1 class="title" style="margin: 0;">Activity Logs</h1>
  <a href="{{ url_for('download_logs') }}" class="primary" style="text-decoration: none;">Download CSV</a>
</div>

<table class="logs-table">
  <thead>
    <tr>
      <th>Timestamp</th>
      <th>Action</th>
      <th>Table</th>
      <th>Record ID</th>
      <th>Details</th>
    </tr>
  </thead>
  <tbody>
    {% for r in logs %}
    <tr>
      <td>{{ r['timestamp'] }}</td>
      <td>{{ r['action'] }}</td>
      <td>{{ r['table_name'] }}</td>
      <td>{{ r['record_id'] }}</td>
      <td>{{ r['details'] }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}